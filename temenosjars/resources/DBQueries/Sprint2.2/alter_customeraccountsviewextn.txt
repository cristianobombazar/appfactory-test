ALTER 
    ALGORITHM = UNDEFINED 
    DEFINER = `readwrite`@`%` 
    SQL SECURITY DEFINER
VIEW `customeraccountsviewextn` AS
    SELECT DISTINCT
        `contractcorecustomers`.`coreCustomerId` AS `Membership_id`,
        `contractcorecustomers`.`coreCustomerName` AS `MembershipName`,
        `accounts`.`TaxId` AS `Taxid`,
        `customeraccounts`.`Customer_id` AS `Customer_id`,
        `customeraccounts`.`Customer_id` AS `User_id`,
        `accounts`.`Account_id` AS `Account_id`,
        `contractcorecustomers`.`isBusiness` AS `isBusinessAccount`,
        `accounts`.`Type_id` AS `Type_id`,
        `accounts`.`UserName` AS `userName`,
        `accounts`.`CurrencyCode` AS `currencyCode`,
        `accounts`.`AccountHolder` AS `accountHolder`,
        `accounts`.`error` AS `error`,
        `accounts`.`Address` AS `Address`,
        `accounts`.`Scheme` AS `Scheme`,
        `accounts`.`Number` AS `number`,
        `accounts`.`AvailableBalance` AS `availableBalance`,
        `accounts`.`CurrentBalance` AS `currentBalance`,
        `accounts`.`InterestRate` AS `interestRate`,
        `accounts`.`AvailableCredit` AS `availableCredit`,
        `accounts`.`MinimumDue` AS `minimumDue`,
        `accounts`.`DueDate` AS `dueDate`,
        `accounts`.`FirstPaymentDate` AS `firstPaymentDate`,
        `accounts`.`ClosingDate` AS `closingDate`,
        `accounts`.`PaymentTerm` AS `paymentTerm`,
        `accounts`.`OpeningDate` AS `openingDate`,
        `accounts`.`MaturityDate` AS `maturityDate`,
        `accounts`.`DividendLastPaidAmount` AS `dividendLastPaidAmount`,
        `accounts`.`DividendLastPaidDate` AS `dividendLastPaidDate`,
        `accounts`.`DividendPaidYTD` AS `dividendPaidYTD`,
        `accounts`.`DividendRate` AS `dividendRate`,
        `accounts`.`DividendYTD` AS `dividendYTD`,
        `customeraccounts`.`EStatementmentEnable` AS `eStatementEnable`,
        `customeraccounts`.`IsOrganizationAccount` AS `isOrganizationAccount`,
        `customeraccounts`.`FavouriteStatus` AS `favouriteStatus`,
        `accounts`.`StatusDesc` AS `statusDesc`,
        `accounts`.`NickName` AS `nickName`,
        `accounts`.`OriginalAmount` AS `originalAmount`,
        `accounts`.`OutstandingBalance` AS `outstandingBalance`,
        `accounts`.`PaymentDue` AS `paymentDue`,
        `accounts`.`PaymentMethod` AS `paymentMethod`,
        `accounts`.`SwiftCode` AS `swiftCode`,
        `accounts`.`TotalCreditMonths` AS `totalCreditMonths`,
        `accounts`.`TotalDebitsMonth` AS `totalDebitsMonth`,
        `accounts`.`RoutingNumber` AS `routingNumber`,
        `accounts`.`SupportBillPay` AS `supportBillPay`,
        `accounts`.`SupportCardlessCash` AS `supportCardlessCash`,
        `accounts`.`SupportTransferFrom` AS `supportTransferFrom`,
        `accounts`.`SupportTransferTo` AS `supportTransferTo`,
        `accounts`.`SupportDeposit` AS `supportDeposit`,
        `accounts`.`UnpaidInterest` AS `unpaidInterest`,
        `accounts`.`PreviousYearsDividends` AS `previousYearsDividends`,
        `accounts`.`principalBalance` AS `principalBalance`,
        `accounts`.`PrincipalValue` AS `principalValue`,
        `accounts`.`RegularPaymentAmount` AS `regularPaymentAmount`,
        `accounts`.`phone` AS `phoneId`,
        `accounts`.`LastDividendPaidDate` AS `lastDividendPaidDate`,
        `accounts`.`LastDividendPaidAmount` AS `lastDividendPaidAmount`,
        `accounts`.`LastPaymentAmount` AS `lastPaymentAmount`,
        `accounts`.`LastPaymentDate` AS `lastPaymentDate`,
        `accounts`.`LastStatementBalance` AS `lastStatementBalance`,
        `accounts`.`LateFeesDue` AS `lateFeesDue`,
        `accounts`.`maturityAmount` AS `maturityAmount`,
        `accounts`.`MaturityOption` AS `maturityOption`,
        `accounts`.`payoffAmount` AS `payoffAmount`,
        `accounts`.`PayOffCharge` AS `payOffCharge`,
        `accounts`.`PendingDeposit` AS `pendingDeposit`,
        `accounts`.`PendingWithdrawal` AS `pendingWithdrawal`,
        `accounts`.`JointHolders` AS `jointHolders`,
        `accounts`.`IsPFM` AS `isPFM`,
        `accounts`.`InterestPaidYTD` AS `interestPaidYTD`,
        `accounts`.`InterestPaidPreviousYTD` AS `interestPaidPreviousYTD`,
        `accounts`.`InterestPaidLastYear` AS `interestPaidLastYear`,
        `accounts`.`InterestEarned` AS `interestEarned`,
        `accounts`.`CurrentAmountDue` AS `currentAmountDue`,
        `accounts`.`CreditLimit` AS `creditLimit`,
        `accounts`.`CreditCardNumber` AS `creditCardNumber`,
        `accounts`.`BsbNum` AS `bsbNum`,
        `accounts`.`BondInterestLastYear` AS `bondInterestLastYear`,
        `accounts`.`BondInterest` AS `bondInterest`,
        `accounts`.`AvailablePoints` AS `availablePoints`,
        `accounts`.`AccountName` AS `accountName`,
        `customeraccounts`.`email` AS `email`,
        `accounts`.`IBAN` AS `IBAN`,
        `accounts`.`adminProductId` AS `adminProductId`,
        `accounts`.`UpdatedBy` AS `UpdatedBy`,
        `accounts`.`LastUpdated` AS `LastUpdated`,
        `accounts`.`ActualUpdatedBY` AS `ActualUpdatedBY`,
        `bank`.`Description` AS `bankname`,
        `accounts`.`AccountPreference` AS `accountPreference`,
        `accounttype`.`transactionLimit` AS `transactionLimit`,
        `accounttype`.`transferLimit` AS `transferLimit`,
        `accounttype`.`rates` AS `rates`,
        `accounttype`.`termsAndConditions` AS `termsAndConditions`,
        `accounttype`.`TypeDescription` AS `typeDescription`,
        `accounttype`.`supportChecks` AS `supportChecks`,
        `accounttype`.`displayName` AS `displayName`,
        `accounts`.`accountSubType` AS `accountSubType`,
        `accounts`.`description` AS `description`,
        `accounts`.`schemeName` AS `schemeName`,
        `accounts`.`identification` AS `identification`,
        `accounts`.`secondaryIdentification` AS `secondaryIdentification`,
        `accounts`.`servicerSchemeName` AS `servicerSchemeName`,
        `accounts`.`servicerIdentification` AS `servicerIdentification`,
        `accounts`.`dataCreditDebitIndicator` AS `dataCreditDebitIndicator`,
        `accounts`.`dataType` AS `dataType`,
        `accounts`.`dataDateTime` AS `dataDateTime`,
        `accounts`.`dataCreditLineIncluded` AS `dataCreditLineIncluded`,
        `accounts`.`dataCreditLineType` AS `dataCreditLineType`,
        `accounts`.`dataCreditLineAmount` AS `dataCreditLineAmount`,
        `accounts`.`dataCreditLineCurrency` AS `dataCreditLineCurrency`,
        `accounts`.`arrangementId` AS `arrangementId`,
        `accounts`.`AccountGroupCode` AS `accountGroupCode`,
        `accounts`.`AccountStyleCode` AS `accountStyleCode`,
        `accounts`.`AccountResidencyStatus` AS `accountResidencyStatus`
    FROM
        ((((`accounts`
        JOIN `customeraccounts` ON ((`accounts`.`Account_id` = `customeraccounts`.`Account_id`)))
        JOIN `accounttype` ON ((`accounts`.`Type_id` = `accounttype`.`TypeID`)))
        LEFT JOIN `contractcorecustomers` ON ((`customeraccounts`.`coreCustomerId` = `contractcorecustomers`.`coreCustomerId`)))
        LEFT JOIN `bank` ON ((`accounts`.`Bank_id` = `bank`.`id`)))